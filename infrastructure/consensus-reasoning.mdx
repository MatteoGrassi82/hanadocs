---
title: "Consensus Reasoning"
description: "How HANA's multi-model consensus architecture ensures reliable clinical reasoning through expert ensemble and weighted deliberation."
---

## The Problem with Single-Model Clinical Reasoning

A single AI model making clinical decisions is like a single physician working in isolation — capable, but limited by individual biases and blind spots. The best clinical outcomes come from multidisciplinary collaboration.

HANA's consensus reasoning framework applies this principle to AI. Instead of relying on a single model to make clinical decisions, HANA orchestrates multiple specialized reasoning components that independently evaluate clinical scenarios and reach consensus through structured deliberation.

## Consensus Architecture

```
┌────────────────────────────────────────────────────────────────────┐
│                    CONSENSUS REASONING PIPELINE                     │
│                                                                     │
│  Patient Context (EHR + Prior Conversations + Protocol)             │
│         │                                                           │
│         ▼                                                           │
│  ┌──────────────┐                                                  │
│  │ TRIAGE MODEL  │──▶ Identifies clinical task type                │
│  │               │    Selects relevant expert models                │
│  └──────┬───────┘                                                  │
│         │                                                           │
│         ▼                                                           │
│  ┌──────────────────────────────────────────────────────┐          │
│  │              EXPERT MODEL ENSEMBLE                     │          │
│  │                                                        │          │
│  │  ┌────────┐  ┌────────┐  ┌────────┐  ┌────────┐     │          │
│  │  │Clinical │  │Protocol│  │Patient │  │Safety  │     │          │
│  │  │Domain   │  │Expert  │  │Context │  │Guard   │     │          │
│  │  │Expert   │  │        │  │Expert  │  │        │     │          │
│  │  │         │  │        │  │        │  │        │     │          │
│  │  │Evaluates│  │Ensures │  │Weighs  │  │Checks  │     │          │
│  │  │clinical │  │protocol│  │patient │  │for     │     │          │
│  │  │accuracy │  │compli- │  │history │  │safety  │     │          │
│  │  │& approp.│  │ance    │  │& prefs │  │risks   │     │          │
│  │  └────┬───┘  └────┬───┘  └────┬───┘  └────┬───┘     │          │
│  │       │           │           │            │          │          │
│  │       ▼           ▼           ▼            ▼          │          │
│  │  ┌─────────────────────────────────────────────┐     │          │
│  │  │         WEIGHTED PROBABILITY OUTPUTS         │     │          │
│  │  │  P_clinical(action) | P_protocol(action)     │     │          │
│  │  │  P_context(action)  | P_safety(action)       │     │          │
│  │  └─────────────────────────────────────────────┘     │          │
│  └──────────────────────────────┬───────────────────────┘          │
│                                  │                                  │
│                                  ▼                                  │
│  ┌──────────────────────────────────────────────────────┐          │
│  │              CONSENSUS AGGREGATION                     │          │
│  │                                                        │          │
│  │  Weighted Log Opinion Pool:                            │          │
│  │  P_combined(X) = Σ wᵢ · log pᵢ(X)                   │          │
│  │  P_final(X) = exp(P_combined(X)) / Σ exp(P_combined) │          │
│  │                                                        │          │
│  │  Cascade Boosting:                                     │          │
│  │  Actions agreed upon by multiple experts receive       │          │
│  │  amplified confidence scores                           │          │
│  └──────────────────────────────┬───────────────────────┘          │
│                                  │                                  │
│                                  ▼                                  │
│                          FINAL DECISION                             │
│                  (Question set, branch, escalation)                  │
│                                                                     │
└────────────────────────────────────────────────────────────────────┘
```

## Expert Models

Each expert model evaluates the clinical scenario from a specialized perspective.

### Clinical Domain Expert

Evaluates the clinical appropriateness of proposed actions:

- Is this the right question to ask given the patient's conditions?
- Are the extracted clinical entities consistent with medical knowledge?
- Does the proposed conversation branch align with evidence-based practice?
- Are there clinical red flags that require escalation?

### Protocol Expert

Ensures strict adherence to the clinical protocol:

- Has every required question been addressed?
- Is the conversation following the correct branch for this patient profile?
- Are timing requirements (question order, pacing) being met?
- Does the proposed action comply with the healthcare organization's specific rules?

### Patient Context Expert

Weighs the patient's individual history and preferences:

- Does the proposed approach account for the patient's communication preferences?
- Are there prior conversation outcomes that should inform this interaction?
- Is the language and complexity appropriate for this patient?
- Are there cultural or linguistic considerations?

### Safety Guard

Provides a safety veto on any proposed action:

- Does the proposed utterance contain any clinically harmful content?
- Could the action lead to patient distress or confusion?
- Are there liability risks in the proposed approach?
- Does the action comply with HIPAA, consent, and privacy requirements?

The safety guard has **veto power** — if the safety score falls below threshold, the action is blocked regardless of other expert scores.

## Probability Weighting

Expert outputs are aggregated using a Weighted Log Opinion Pool (WLOP), which moderates overconfident individual predictions while rewarding consensus:

**Aggregation formula:**
```
P_combined(X) = Σ wᵢ · log pᵢ(X)
P_normalized(X) = exp(P_combined(X)) / Σⱼ exp(P_combined(Xⱼ))
```

Where:
- `wᵢ` is the weight assigned to expert model `i` (calibrated from historical accuracy)
- `pᵢ(X)` is expert `i`'s probability for action `X`

**Expert weight calibration:**

| Expert | Default Weight | Calibration Method |
|--------|---------------|-------------------|
| Clinical Domain | 0.30 | Accuracy on clinical validation benchmarks |
| Protocol | 0.25 | Protocol compliance rate in production |
| Patient Context | 0.20 | Patient satisfaction correlation |
| Safety Guard | 0.25 | Safety incident prevention rate |

Weights are recalibrated monthly based on production performance data.

### Cascade Boosting

When multiple experts independently agree on an action, confidence is amplified:

```
BoostedScore(X) = P_normalized(X) + λ · Σ(fₓ,ᵣ × θᵣ)

Where:
  fₓ,ᵣ = frequency of action X at rank r across experts
  θᵣ = cascade weight (decreasing for lower ranks)
  λ = boost coefficient (tuned per protocol)
```

This means actions endorsed by all four experts receive substantially higher confidence than actions supported by only one, even if that one expert is highly confident.

## Application to HANA's Conversation Flow

### Pre-Call Planning

The consensus mechanism determines the conversation plan:

1. **Triage model** analyzes the patient profile and identifies the clinical task type (intake, follow-up, medication review, behavioral health screen, etc.)
2. **Expert ensemble** evaluates the proposed question set, ordering, and branching logic
3. **Consensus aggregation** produces the final conversation plan with confidence-weighted questions
4. Questions below confidence threshold are flagged for human review before the call proceeds

### Real-Time Branching

During a conversation, when the patient's response triggers a branch decision:

1. Patient response is parsed and entities extracted
2. Each expert model independently evaluates possible next actions
3. Consensus determines the optimal branch within the latency budget (< 200ms)
4. If no action achieves sufficient consensus, the system falls back to a safe default (acknowledge and continue)

### Escalation Decisions

The consensus mechanism governs escalation — the decision to hand off from AI to human:

- **Clinical escalation**: Patient reports symptoms requiring immediate clinical attention
- **Emotional escalation**: Patient distress exceeds the system's safe handling capacity
- **Complexity escalation**: Conversation has diverged beyond protocol coverage
- **Quality escalation**: System confidence has dropped below acceptable threshold

Escalation requires consensus from at least two expert models or a safety guard veto.

## Evaluation and Benchmarks

### Accuracy Assessment

HANA evaluates consensus reasoning accuracy across multiple dimensions:

| Benchmark | Consensus Model | Single Model | Improvement |
|-----------|----------------|--------------|-------------|
| Protocol compliance | 97.2% | 91.8% | +5.4% |
| Clinical accuracy | 96.8% | 93.1% | +3.7% |
| Appropriate escalation | 98.5% | 94.2% | +4.3% |
| Patient goal completion | 89.1% | 82.6% | +6.5% |

### Calibration Results

The consensus approach demonstrates better calibrated confidence than any individual model:

- Consensus predictions at 90% confidence are correct 89.2% of the time (well-calibrated)
- Individual models at 90% confidence are correct only 78-84% of the time (overconfident)
- The consensus mechanism reduces overconfidence by moderating aggressive individual predictions

### Disagreement Analysis

When experts disagree, the disagreement itself is informative:

- **High disagreement** conversations are automatically flagged for human review
- **Systematic disagreement patterns** identify areas where protocols need clarification
- **Expert-specific biases** are detected and corrected through weight recalibration

## Modularity and Extensibility

The consensus framework is designed for expansion:

- **New expert models** can be added without modifying existing ones (e.g., a specialty-specific expert for behavioral health protocols)
- **Expert weights** are independently tunable per protocol, allowing different clinical workflows to emphasize different dimensions
- **Evaluation datasets** grow with each production conversation, continuously improving calibration
- **Protocol-specific tuning** allows healthcare organizations to customize the consensus behavior for their clinical standards
