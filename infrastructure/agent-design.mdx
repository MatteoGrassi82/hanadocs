---
title: "Agent Design"
description: "How HANA agents are configured for different clinical workflows — from intake to chronic care monitoring."
---

## Agent Configuration Model

HANA agents are not general-purpose chatbots. Each agent is a **configured instance** of the HANA engine, scoped to a specific clinical workflow with defined objectives, protocols, channels, and safety rules.

An agent configuration consists of:

```json
{
  "agent_id": "intake-adhd-clinic-xyz",
  "objective": "Complete ADHD pre-diagnostic intake across patient, caregiver, and teacher",
  "protocol": "diva-5-structured-intake",
  "channels": ["voice", "sms"],
  "language": "en-US",
  "escalation_policy": "clinic-xyz-risk-protocol",
  "ehr_integration": "practiceq",
  "personalization": {
    "adapt_channel": true,
    "adapt_timing": true,
    "adapt_complexity": true
  },
  "outputs": {
    "clinical_note": true,
    "task_list": true,
    "risk_flags": true,
    "ehr_writeback": true
  }
}
```

## Agent Types

HANA deploys three specialized agent roles within each interaction lifecycle. These are not separate AI models — they are functional roles within the dual-model architecture.

### Data Science (DS) Agent

**When it runs:** Pre-call

**What it does:**
- Ingests existing patient data from EHR
- Identifies missing or incomplete data points
- Detects patterns across longitudinal interactions
- Generates a gap analysis that informs question generation

**Example output:**
```
Patient: Maria G., 67, Diabetes Type 2
Last interaction: 14 days ago
Medication: Metformin 500mg 2x daily
Gap detected: No adherence data since Jan 15
Pattern: Reported cost concerns in 2 of last 3 calls
Recommendation: Prioritize medication adherence check, probe for cost barriers
```

### Health Coach (HC) Agent

**When it runs:** During patient interaction

**What it does:**
- Delivers pre-computed questions through natural conversation
- Adapts tone, pacing, and language complexity per patient
- Handles multi-turn dialogue (follow-ups, clarifications)
- Routes to appropriate channel (voice for complex, SMS for quick)

**Design constraints:**
- Cannot generate clinical advice
- Cannot deviate from bounded question set
- Must follow clinic-defined conversational guidelines
- Real-time safety monitoring active throughout

### Domain Expert (DE) Agent

**When it runs:** Post-call

**What it does:**
- Synthesizes conversation data with existing clinical records
- Generates structured pre-assessment summaries
- Categorizes barriers (cost, side effects, comprehension, logistics)
- Produces clinical-grade documentation for the EHR

**Example output:**
```
PRE-ASSESSMENT SUMMARY — Maria G.
Date: 2026-02-07 | Agent: chronic-care-diabetes-clinic-abc

MEDICATION ADHERENCE: Partial (estimated 4 of 7 days/week)
BARRIER IDENTIFIED: Cost — patient reports difficulty affording refills
                    after insurance change effective Jan 1
SIDE EFFECTS: Reports mild nausea, manageable, no change requested
MOOD: Stable. Reports good sleep, moderate energy.
SDOH FLAG: Financial strain — new insurance plan with higher copay

RECOMMENDED ACTIONS:
- [ ] Review medication assistance program eligibility
- [ ] Schedule 15-min follow-up in 1 week
- [ ] Update care plan re: insurance change

RISK LEVEL: Low
```

## Workflow Patterns

### Pattern 1: Single-Objective Agent

Used for focused tasks like appointment reminders, no-show recovery, or device compliance checks.

```
Trigger → DS analysis → HC delivers 3-5 questions → DE summarizes → EHR write-back
```

**Example:** Post-surgical day-3 check-in
- Are you taking your prescribed pain medication?
- Any signs of infection at the incision site?
- Are you able to do the prescribed exercises?

### Pattern 2: Multi-Stakeholder Orchestration

Used for complex workflows that require input from multiple people (patient, caregiver, teacher, employer).

```
Trigger → DS identifies all stakeholders → HC contacts each via optimal channel
→ DE synthesizes across all sources → Unified pre-assessment generated
```

**Example:** ADHD diagnostic intake
- Patient: Voice call — detailed symptom history
- Caregiver: Voice call — behavioral observations
- Teacher: SMS — structured questionnaire
- Result: Clinician-ready pre-assessment in 1.1 days (vs. 4.2 days manual)

### Pattern 3: Longitudinal Monitoring Agent

Used for chronic care, behavioral health, and medication adherence programs. The agent maintains context across weeks and months.

```
Week 1: Baseline assessment
Week 2: Check-in (adapts based on Week 1 findings)
Week 3: Check-in (adapts based on trend)
Week 4: Monthly summary to clinical team
...continues indefinitely
```

**Example:** BHI program monitoring
- Tracks mood, sleep, medication adherence weekly
- Detects trends (e.g., declining sleep quality over 3 weeks)
- Escalates when patterns indicate potential crisis
- Provides monthly narrative reports to care team

### Pattern 4: Event-Triggered Agent

Used when an external signal (wearable alert, missed appointment, lab result) triggers engagement.

```
External event → API trigger → DS analyzes context → HC contacts patient
→ DE generates contextual report → Clinician decides action
```

**Example:** Elevated heart rate alert from wearable
- "I noticed your heart rate was elevated this morning. Can you tell me what was going on?"
- Patient: "I was running late for work and rushing."
- Result: Alert classified as benign, no clinical escalation needed
- Outcome: 60% reduction in false-positive alert follow-up

## Agent Configuration Lifecycle

<Steps>
  <Step title="Discovery Call">
    HANA team sits down with the clinic (typically 1 hour). The clinic walks through their workflow. The call is recorded.
  </Step>

  <Step title="Workflow Mapping">
    An AI agent processes the recorded call and generates a visual workflow map in Figma. This is shared with the clinic for validation.
  </Step>

  <Step title="Agent Build">
    Based on the approved workflow, 2-3 agent configurations are created. This typically takes 1-2 days.
  </Step>

  <Step title="Testing">
    The clinic tests the agents via a web-based demo environment. They call the agent, provide feedback on tone, pacing, and content.
  </Step>

  <Step title="Iteration">
    Agents are refined based on feedback. Conversational style, question ordering, and escalation thresholds are tuned.
  </Step>

  <Step title="Deploy">
    Agents are connected to the clinic's EHR and patient roster. The pilot begins with a defined patient cohort.
  </Step>
</Steps>

## Channel Selection Logic

The Reasoning Engine determines the optimal channel for each patient and each question type:

| Scenario | Channel | Rationale |
|----------|---------|-----------|
| Detailed clinical history | Voice | Richer narrative, patients disclose more |
| Quick confirmation (appointment, medication) | SMS | Lower friction, faster response |
| Caregiver/family contact | Voice or SMS | Based on stated preference |
| Follow-up to missed voice call | SMS | "Is now a good time to talk?" scheduling |
| Patients without smartphones | Voice (phone) | 100% accessibility |
| Multi-language contexts | Configurable | Voice + SMS in patient's preferred language |

<Info>
HANA always starts with SMS to schedule a voice call at the patient's preferred time. This "SMS-first, voice-scheduled" pattern achieves significantly higher contact rates than cold-calling.
</Info>

## Outputs and Integrations

Every agent interaction produces structured outputs that flow into clinical workflows:

| Output | Destination | Format |
|--------|-------------|--------|
| Clinical note | EHR (write-back) | Structured + narrative |
| Task list | Clinic dashboard / EHR | Action items with owners |
| Risk flags | Real-time alert to clinical staff | Severity-tagged notifications |
| Barrier report | Care plan / population health | Categorized (cost, side effects, comprehension, logistics) |
| Transcript | Audit log | Full conversation with timestamps |
| Audio | Audit log (where enabled) | Encrypted recording |

<Card title="Next: Deployment Options" icon="server" href="/infrastructure/deployment">
  Learn about cloud, on-premise, and sovereign deployment options for HANA infrastructure.
</Card>
