---
title: "Data Architecture"
description: "How data flows through HANA â€” from EHR ingestion through patient interaction to clinical write-back."
---

## Data Flow Overview

HANA is a **closed-loop system**. Data flows in from the EHR, is enriched through patient interaction, and flows back to the EHR as structured clinical notes. Nothing is siloed in a separate dashboard patients ignore.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     Ingest      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     Engage      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚              â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚          â”‚
â”‚   EHR    â”‚                 â”‚    HANA      â”‚                 â”‚ Patient  â”‚
â”‚          â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚              â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    Write-back   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    Response     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚  Clinical    â”‚
                            â”‚  Outputs     â”‚
                            â”‚              â”‚
                            â”‚ â€¢ Notes      â”‚
                            â”‚ â€¢ Tasks      â”‚
                            â”‚ â€¢ Flags      â”‚
                            â”‚ â€¢ Reports    â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Ingestion

### What HANA Reads from the EHR

| Data Type | Purpose | Required? |
|-----------|---------|-----------|
| Patient demographics | Personalization, language selection | Yes |
| Active diagnoses | Protocol selection, question relevance | Yes |
| Medication list | Adherence monitoring, side effect checks | Recommended |
| Appointment schedule | Timing coordination, pre/post-visit flows | Recommended |
| Previous encounter notes | Context for conversation continuity | Optional |
| Lab results / vitals | Trend detection, alert triggers | Optional |
| Care plan | Protocol alignment, goal tracking | Optional |
| Wearable / RPM data | Event-triggered engagement | Optional |

<Note>
HANA operates on a **minimum viable data** principle. The system works with just demographics and diagnoses. More data enables richer interactions, but deployment doesn't require a complete data integration before going live.
</Note>

### Integration Methods

Data enters HANA through one of four pathways:

1. **Bidirectional API** â€” Real-time sync with EHR systems (Athena, PracticeQ, Charma)
2. **Middleware connector** â€” Via Redox or Catagon for EHRs without direct APIs
3. **Batch import** â€” CSV/HL7/FHIR file import for initial patient roster and bulk data
4. **Manual entry** â€” Via HANA dashboard for clinics without digital infrastructure

## Data Storage

### Storage Architecture

| Layer | What's Stored | Retention | Encryption |
|-------|--------------|-----------|------------|
| **Patient Records** | Demographics, clinical data, care protocols | Per BAA/contract | AES-256 at rest |
| **Interaction Data** | Conversation transcripts, call metadata, outcomes | Per retention policy | AES-256 at rest |
| **Memory Layer** | Patient preferences, interaction patterns, longitudinal context | Active while patient enrolled | AES-256 at rest |
| **Model Data** | Aggregated, de-identified training data | Indefinite (anonymized) | AES-256 at rest |
| **Audit Logs** | All system actions, access logs, escalation events | 7 years minimum | AES-256 at rest |

### Data Residency

- **EU deployments**: Data stored in EU-based infrastructure (Ireland)
- **US deployments**: Data stored in US-based infrastructure
- **On-premise**: Data stored on client infrastructure
- **No cross-border transfer**: Hard constraint enforced at infrastructure level

## Bidirectional EHR Write-Back

This is the feature that makes HANA infrastructure rather than a standalone tool. After every patient interaction, structured data flows back to the EHR.

### What HANA Writes Back

| Output | Format | Destination |
|--------|--------|-------------|
| **Clinical note** | Structured narrative (SOAP-compatible) | Patient chart |
| **Task list** | Action items with assigned owners | Care team task queue |
| **Risk flags** | Severity-tagged alerts | Clinical notification system |
| **Barrier reports** | Categorized (cost, side effects, comprehension, logistics) | Care plan / population health |
| **Compliance metrics** | Medication adherence %, device compliance % | Quality dashboard |
| **SDOH markers** | Social determinants detected in conversation | Patient chart |

### Write-Back Example

After a medication adherence check-in call, HANA writes the following to the EHR:

```
HANA ENGAGEMENT NOTE â€” Maria G.
Date: 2026-02-07 | Type: Chronic Care Check-In | Channel: Voice

MEDICATION ADHERENCE
- Metformin 500mg: Taking ~4 of 7 days (self-reported)
- Barrier: Cost â€” new insurance plan (effective Jan 1) has higher copay
- Side effects: Mild nausea, tolerable, no change requested

PATIENT STATUS
- Mood: Stable, reports adequate sleep
- Energy: Moderate
- Social: Active, attending weekly community group

SDOH FLAGS
- Financial strain: Insurance change increasing medication costs

TASKS GENERATED
- [ ] Review medication assistance program eligibility (assigned: Care Manager)
- [ ] Follow-up in 7 days re: adherence (assigned: HANA automated)

RISK LEVEL: Low
NEXT SCHEDULED INTERACTION: 2026-02-14
```

## Privacy by Design

### PHI Handling

- All patient data is classified as PHI and handled under HIPAA/GDPR standards
- PHI is encrypted at rest (AES-256) and in transit (TLS 1.3)
- PHI is never used for model training without explicit de-identification
- Access to PHI is role-based and audit-logged
- Patient data is never sent to third-party AI providers

### De-Identification Pipeline

When interaction data is used for model improvement:

1. All direct identifiers removed (name, DOB, MRN, contact info)
2. Indirect identifiers generalized (age ranges, region-level geography)
3. Cryptographic hashing applied to all remaining quasi-identifiers
4. Statistical disclosure risk assessment performed
5. Only data passing k-anonymity threshold enters training pipeline

### Data Deletion

- Patients can request data deletion at any time
- Deletion propagates across all HANA systems within 72 hours
- Anonymized aggregate data (already de-identified) is not affected
- Deletion confirmation is logged in the audit trail

## FHIR Compatibility

HANA is building toward full HL7 FHIR R4 compatibility for data exchange:

| Resource | Status | Notes |
|----------|--------|-------|
| Patient | âœ… Supported | Demographics, contact info |
| Condition | âœ… Supported | Active diagnoses |
| MedicationRequest | âœ… Supported | Current medications |
| Observation | âœ… Supported | Vitals, lab results, patient-reported outcomes |
| Encounter | âœ… Supported | HANA interactions logged as encounters |
| DocumentReference | ğŸ”„ In Progress | Clinical notes as FHIR documents |
| Task | ğŸ”„ In Progress | Generated tasks as FHIR Task resources |
| CommunicationRequest | ğŸ“‹ Planned | Scheduling and channel management |

<Card title="Next: Observability" icon="chart-line" href="/infrastructure/observability">
  How HANA monitors interaction quality, safety, and clinical outcomes in real-time.
</Card>
